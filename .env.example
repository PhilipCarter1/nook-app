# ============================================================================
# NOOK APP - Environment Variables Configuration
# ============================================================================
# Copy this file to .env.local and fill in the values for your environment
# DO NOT commit .env.local to version control (it's in .gitignore)
#
# For detailed setup instructions, see: guide/01_supabase_restoration.md
# ============================================================================

# ============================================================================
# APP CONFIGURATION
# ============================================================================
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NEXT_PUBLIC_APP_NAME="Nook"
NEXT_PUBLIC_APP_DESCRIPTION="Property Management Platform"

# ============================================================================
# SUPABASE CONFIGURATION (Required)
# ============================================================================
# Get these from your Supabase project dashboard:
# 1. Go to Settings â†’ API
# 2. Copy the Project URL and API keys
#
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-anon-public-key-here"
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key-here"

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
# Generate random secrets (use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
#
ENCRYPTION_KEY="your-32-byte-encryption-key-here"
JWT_SECRET="your-jwt-secret-here"
SESSION_SECRET="your-session-secret-here"
AUTH_SECRET="your-auth-secret-here"

# Authentication URLs
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-nextauth-secret-here"

# Clerk Authentication (Optional - if using Clerk for OAuth)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="your-clerk-publishable-key"
CLERK_SECRET_KEY="your-clerk-secret-key"

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================
# SendGrid Configuration
SENDGRID_API_KEY="your-sendgrid-api-key"
EMAIL_FROM="noreply@nook.app"
EMAIL_FROM_NAME="Nook Team"

# Alternative: SMTP Configuration
SMTP_HOST="smtp.sendgrid.net"
SMTP_PORT="587"
SMTP_USER="apikey"
SMTP_PASSWORD="your-sendgrid-api-key"

# ============================================================================
# PAYMENT PROCESSING (Stripe)
# ============================================================================
# Get these from https://dashboard.stripe.com/apikeys
#
STRIPE_SECRET_KEY="sk_test_your-stripe-secret-key"
STRIPE_PUBLISHABLE_KEY="pk_test_your-stripe-publishable-key"
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_your-stripe-publishable-key"
STRIPE_WEBHOOK_SECRET="whsec_your-stripe-webhook-secret"
STRIPE_PRICE_ID="price_your-stripe-price-id"

# ============================================================================
# STORAGE CONFIGURATION (AWS S3)
# ============================================================================
# Optional: If using AWS S3 for document storage instead of Supabase Storage
#
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="us-east-1"
AWS_BUCKET_NAME="nook-documents-bucket"

# Storage Configuration
STORAGE_BUCKET="nook-storage"
STORAGE_URL="https://your-project.supabase.co/storage/v1/object/public"

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
# Sentry (Error Tracking)
SENTRY_DSN="your-sentry-dsn"
NEXT_PUBLIC_SENTRY_DSN="your-sentry-dsn"
SENTRY_ENVIRONMENT="development"

# Logging
LOG_LEVEL="info"
ENABLE_APM="false"

# ============================================================================
# ANALYTICS
# ============================================================================
ANALYTICS_ID="your-analytics-id"
ENABLE_ANALYTICS="false"

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Control which features are enabled in this environment
#
ENABLE_MAINTENANCE_REQUESTS="true"
ENABLE_PAYMENT_PROCESSING="true"
ENABLE_DOCUMENT_MANAGEMENT="true"
ENABLE_VENDOR_MANAGEMENT="true"
ENABLE_SPLIT_RENT="true"
ENABLE_ONBOARDING="true"

# ============================================================================
# RATE LIMITING
# ============================================================================
# API rate limiting configuration
#
RATE_LIMIT_WINDOW_MS="3600000"
RATE_LIMIT_MAX_REQUESTS="100"
API_RATE_LIMIT="100"
API_TIMEOUT="30000"

# ============================================================================
# CACHE CONFIGURATION (Optional)
# ============================================================================
# Redis configuration for caching
#
REDIS_URL="redis://localhost:6379"
CACHE_TTL="3600"

# ============================================================================
# DATABASE CONFIGURATION (Advanced)
# ============================================================================
# Direct PostgreSQL connection (for migrations/scripts)
# Format: postgresql://user:password@host:port/database
#
DATABASE_URL="postgresql://postgres:password@localhost:5432/nook"

# ============================================================================
# API CONFIGURATION
# ============================================================================
API_VERSION="v1"
ALLOWED_ORIGINS="http://localhost:3000,https://app.nook.app"

# ============================================================================
# MAINTENANCE & DEPLOYMENT
# ============================================================================
# Maintenance mode
MAINTENANCE_MODE="false"
MAINTENANCE_MESSAGE="System maintenance in progress. Please try again later."

# ============================================================================
# SECURITY HEADERS
# ============================================================================
# Control security headers
#
ENABLE_HSTS="true"
ENABLE_CSP="true"
ENABLE_XSS_PROTECTION="true"
ENABLE_FRAME_PROTECTION="true"
ENABLE_CONTENT_TYPE_PROTECTION="true"
ENABLE_REFERRER_POLICY="true"
ENABLE_PERMISSIONS_POLICY="true"

# ============================================================================
# DRIZZLE ORM CONFIGURATION (Optional)
# ============================================================================
# If using Drizzle ORM for database migrations
#
DRIZZLE_DB_URL="postgresql://user:password@localhost:5432/nook"

# ============================================================================
# NOTES FOR GETTING STARTED
# ============================================================================
#
# 1. Copy this file to .env.local:
#    cp .env.example .env.local
#
# 2. Fill in the Supabase values first (see Phase 1 in guide/01_supabase_restoration.md):
#    - NEXT_PUBLIC_SUPABASE_URL
#    - NEXT_PUBLIC_SUPABASE_ANON_KEY
#    - SUPABASE_SERVICE_ROLE_KEY
#
# 3. For development, you can leave most other values as placeholders
#    unless you're testing those specific features.
#
# 4. For production deployment:
#    - Generate new secrets for all AUTH/JWT/SESSION keys
#    - Use production Stripe API keys
#    - Use production Supabase project
#    - Set up SendGrid or SMTP for transactional emails
#
# 5. To generate random secrets:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# ============================================================================ 